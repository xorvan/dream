<!DOCTYPE html>
<html>
<head>
<title>DreamJS Experimental Sandbox</title>
<style type="text/css">
html,body {
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
}

.content {
	height: 99%;
}

#mainCanvas {
	width: 100%;
	height: 100%;
}


</style>
</head>
<body onload="init()">
	<script type="text/javascript" src="../src/event.js"></script>
	<script type="text/javascript" src="../src/core.js"></script>
	<script type="text/javascript" src="../src/Screen.js"></script>
	<script type="text/javascript" src="../src/util.js"></script>
	<script type="text/javascript" src="../src/preload.js"></script>
	<script type="text/javascript" src="../src/input.js"></script>
	<script type="text/javascript" src="../src/transform.js"></script>
	<script type="text/javascript" src="../src/visual.js"></script>
	<script type="text/javascript" src="../src/visual/Graphic.js"></script>
	<script type="text/javascript" src="../src/visual/Composite.js"></script>
	<script type="text/javascript" src="../src/visual/Sprite.js"></script>
	<script type="text/javascript" src="../src/scenery.js"></script>
	<script type="text/javascript" src="../src/visual/animation.js"></script>
	<script type="text/javascript" src="../src/visual/drawing.js"></script>
	<script type="text/javascript" src="../src/visual/Map.js"></script>
	<script type="text/javascript" src="Stats.js"></script>
	
	<script type="text/javascript" src="model.js"></script>
	<script type="text/javascript">
		function init(){
			test = new dream.Screen(document.getElementById("mainCanvas"), 320, 240, 800, 600);
			
			scene = new dream.scenery.Scene;

			
			
			for(var i = 0; i < 3000; i++ ){
				var c = new Poly1(Math.random() * 6000, Math.random() * 6000);
				scene.assets.add(c, "p"+i);
			}
			
			for(var i = 0; i < 50; i++ ){
				var cr = new Aj(Math.random() * 6000, Math.random() * 6000 - 200);
				scene.assets.add(cr, "aj"+i);
			}
			
			
			for(var i = 0; i < 200; i++ ){
				var c = new Cube(Math.random() * 6000 + 100, Math.random() * 6000);
				scene.assets.add(c, "c"+i);
			}

			for(var i = 0; i < 250; i++ ){
				var cr = new Fire(Math.random() * 6000, Math.random() * 6000 - 200);
				scene.assets.add(cr, "fi"+i);
			}

			for(var i = 0; i < 1; i++ ){
				var cr = new Paper2(Math.random() * 6000, Math.random() * 6000 - 200);
				scene.assets.add(cr, "pp"+i);
			}

			for(var i = 0; i < 10; i++ ){
				var cr = new CompositeRect(Math.random() * 6000, Math.random() * 6000 - 200, 150, 150);
				scene.assets.add(cr, "cr"+i);
			}

			for(var i = 0; i < 100; i++ ){
				var cr = new Enemy(Math.random() * 6000, Math.random() * 6000);
				scene.assets.add(cr, "en"+i);
			}

			test.scenes.current = scene;
			
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.anchorX += Math.min(i,10);}, dream.input.Key.RIGHT));
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.anchorX -= Math.min(i,10);}, dream.input.Key.LEFT));
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.anchorY -= Math.min(i,10);}, dream.input.Key.UP));
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.anchorY += Math.min(i,10);}, dream.input.Key.DOWN));
			
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.camera.rotation += Math.min(i,5);}, dream.input.Key.SLASH));
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.camera.rotation -= Math.min(i,5);}, dream.input.Key.ASTERISK));
			
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.camera.scale += i/100;}, dream.input.Key.PLUS));
			test.keyBindings.add(new dream.input.KeyBinding(function(i){scene.camera.scale -= i/100;}, dream.input.Key.MINUS));
			
			stats=new Stats();
			stats.getDomElement().style.position = 'absolute';
			stats.getDomElement().style.left = '0px';
			stats.getDomElement().style.top = '0px';
			document.body.appendChild(stats.getDomElement() );
			var stp=new dream.visual.animation.Step(function(){stats.update();});
			scene.steps.add(stp);
		}
	</script>

	<div class="content" id="container">
		<canvas id="mainCanvas"></canvas>
	</div>
</body>
</html>