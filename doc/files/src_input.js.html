<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src\input.js - DreamJs</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="DreamJs"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.8</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/dream.dynamic.Action.html">dream.dynamic.Action</a></li>
            
                <li><a href="..&#x2F;classes/dream.dynamic.Animation.html">dream.dynamic.Animation</a></li>
            
                <li><a href="..&#x2F;classes/dream.dynamic.Dynamic.html">dream.dynamic.Dynamic</a></li>
            
                <li><a href="..&#x2F;classes/dream.dynamic.Tween.html">dream.dynamic.Tween</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/dynamic.html">dynamic</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src\input.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * 
 *&#x2F;
(function(window){
	
&#x2F;**
 * @constructor
 *&#x2F;
var InputEvent = function(){
	
};

var $ = InputEvent.prototype;

$.stopPropagation = function(){
	this._isPropagationStopped = true;
};

$.preventDefault = function(){
	this._isDefaultPrevented = true;
};

&#x2F;**
 * @constructor
 *&#x2F;
var MouseEvent = function(domEvent, screenPosition, local){
	InputEvent.call(this);
	
	this.screenPosition = screenPosition || new dream.Point; 
	this.position = this.screenPosition;
	
	this.local = local;
	this.domEvent = domEvent;
	
	this._parentStack = [];
	this._localStack = [];
	
}.inherits(InputEvent);

var $ = MouseEvent.prototype;

$.toLocal = function(local){
	this._localStack.push(this.local);
	this._parentStack.push(this.position);
	
	this.position = this.localPosition;
	this.local = local;
	
	return this;
};

$.restore = function(){
	this.position = this._parentStack.pop();
	this.local = this._localStack.pop();
	
	return this;
};

Object.defineProperty($, &quot;localPosition&quot;, {
	get : function() {
		return this.local.rect.transformation.unproject(this.position);
	}
});

Object.defineProperty($, &quot;buttons&quot;, {
	get : function() {
		return this.domEvent.buttons;
	}
});

Object.defineProperty($, &quot;ctrlKey&quot;, {
	get : function() {
		return this.domEvent.ctrlKey;
	}
});

Object.defineProperty($, &quot;shiftKey&quot;, {
	get : function() {
		return this.domEvent.shiftKey;
	}
});

Object.defineProperty($, &quot;altKey&quot;, {
	get : function() {
		return this.domEvent.altKey;
	}
});

Object.defineProperty($, &quot;metaKey&quot;, {
	get : function() {
		return this.domEvent.metaKey;
	}
});

&#x2F;**
 * @param {dream.Screen} screen The Screen to handle input.
 * @constructor
 *&#x2F;
var InputHandler = function(screen){
	this.mouse = {
			position: new dream.Point,
			isDown: false
	};
	
	this.screen = screen;
	
	this.interval = 1;
	
	var input = this;
	window.addEventListener(&quot;mousemove&quot;,function(e){
		var x = e.clientX, y = e.clientY;
		
		input.mouse.position.left = x - input.screen.canvas.offsetLeft + (window.scrollX || document.body.scrollLeft);
		input.mouse.position.top = y - input.screen.canvas.offsetTop + (window.scrollY || document.body.scrollTop);

		screen.raiseMouseMove(new MouseEvent(e, input.mouse.position, screen), new MouseEvent(e, input.mouse.position, screen));

	}, false);
	
	screen.canvas.addEventListener(&quot;mousedown&quot;,function(e){
		input.mouse.isDown = true;
		screen.raiseMouseDown(new MouseEvent(e, input.mouse.position, screen));
	}, false);

	screen.canvas.addEventListener(&quot;mouseout&quot;,function(e){
		screen.raiseMouseLeave(new MouseEvent(e, input.mouse.position, screen));
	}, false);

	screen.canvas.addEventListener(&quot;mouseover&quot;,function(e){
		screen.isHovered = true;
	}, false);

	window.addEventListener(&quot;mouseup&quot;,function(e){
		input.mouse.isDown = false;
		screen.raiseMouseUp(new MouseEvent(e, input.mouse.position, screen), new MouseEvent(e, input.mouse.position, screen), screen.isDragging ? new MouseEvent(e, input.mouse.position, screen) : false );
		screen.raiseDragStop(new MouseEvent(e, input.mouse.position, screen));
	}, false);

	
};

var Key = {
	&#x27;LEFT&#x27; : 37,
	&#x27;TAB&#x27;: 9,
	&#x27;UP&#x27; : 38,
	&#x27;RIGHT&#x27; : 39,
	&#x27;DOWN&#x27; : 40,
	&#x27;ENTER&#x27; : 13,
	&#x27;SHIFT&#x27; : 16,
	&#x27;CTRL&#x27; : 17,
	&#x27;ALT&#x27; : 18,
	&#x27;PAUSE&#x27; : 19,
	&#x27;ESC&#x27; : 27,
	&#x27;SPACE&#x27; : 32,
	&#x27;NUM0&#x27; : 48,
	&#x27;NUM1&#x27; : 49,
	&#x27;NUM2&#x27; : 50,
	&#x27;NUM3&#x27; : 51,
	&#x27;NUM4&#x27; : 52,
	&#x27;NUM5&#x27; : 53,
	&#x27;NUM6&#x27; : 54,
	&#x27;NUM7&#x27; : 55,
	&#x27;NUM8&#x27; : 56,
	&#x27;NUM9&#x27; : 57,
	&#x27;PLUS&#x27; : 107,
	&#x27;MINUS&#x27; : 109,
	&#x27;ASTERISK&#x27; : 106,
	&#x27;SLASH&#x27; : 111,
	&#x27;A&#x27; : 65,
	&#x27;B&#x27; : 66,
	&#x27;C&#x27; : 67,
	&#x27;D&#x27; : 68,
	&#x27;E&#x27; : 69,
	&#x27;F&#x27; : 70,
	&#x27;G&#x27; : 71,
	&#x27;H&#x27; : 72,
	&#x27;I&#x27; : 73,
	&#x27;J&#x27; : 74,
	&#x27;K&#x27; : 75,
	&#x27;L&#x27; : 76,
	&#x27;M&#x27; : 77,
	&#x27;N&#x27; : 78,
	&#x27;O&#x27; : 79,
	&#x27;P&#x27; : 80,
	&#x27;Q&#x27; : 81,
	&#x27;R&#x27; : 82,
	&#x27;S&#x27; : 83,
	&#x27;T&#x27; : 84,
	&#x27;U&#x27; : 85,
	&#x27;V&#x27; : 86,
	&#x27;W&#x27; : 87,
	&#x27;X&#x27; : 88,
	&#x27;Y&#x27; : 89,
	&#x27;Z&#x27; : 90
};

dream.input = {
		InputEvent: InputEvent,
		MouseEvent: MouseEvent,
		InputHandler: InputHandler,
		Key: Key
};

dream.event.create(dream.input, &quot;onKeyDown&quot;);
dream.event.create(dream.input, &quot;onKeyPress&quot;);
dream.event.create(dream.input, &quot;onKeyUp&quot;);
dream.event.create(dream.input, &quot;onWheel&quot;);
dream.event.create(dream.input, &quot;onDeviceMotion&quot;);

window.addEventListener(&quot;keydown&quot;,function(e){
	dream.event.dispatch(dream.input, &quot;onKeyDown&quot;, e);
}, false);

window.addEventListener(&quot;keypress&quot;,function(e){
	dream.event.dispatch(dream.input, &quot;onKeyPress&quot;, e);
}, false);

window.addEventListener(&quot;keyup&quot;,function(e){
	dream.event.dispatch(dream.input, &quot;onKeyUp&quot;, e);
}, false);

window.addEventListener(window.onwheel ? &quot;wheel&quot; : &quot;mousewheel&quot;,function(e){
	dream.event.dispatch(dream.input, &quot;onWheel&quot;, e);
}, false);

if (window.DeviceMotionEvent){
	window.addEventListener(&quot;devicemotion&quot;,function(e){
		dream.event.dispatch(dream.input, &quot;onDeviceMotion&quot;, e);
	}, false);
}

Object.defineProperty(dream.input, &quot;deviceOrientation&quot;, {
	get : function() {
		return window.orientation;
	}
});

})(window);
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
